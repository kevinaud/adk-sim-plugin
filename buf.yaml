version: v2
deps:
  # Google API protos (annotations, field_behavior, resource, client, types)
  - buf.build/googleapis/googleapis
modules:
  - path: protos
    lint:
      use:
        - STANDARD
        - COMMENTS                          # Everything must have comments
        - PACKAGE_VERSION_SUFFIX           # Enforce package versioning (e.g., v1, v1beta1)
        - RPC_REQUEST_STANDARD_NAME        # Request message must match RPC name
        - RPC_RESPONSE_STANDARD_NAME       # Response message must match RPC name
        - RPC_REQUEST_RESPONSE_UNIQUE      # Every RPC must have unique request/response types

      # Exclude vendored Google AI protos from linting (they don't follow buf standards)
      ignore:
        - protos/google/ai/generativelanguage

      disallow_comment_ignores: true

    breaking:
      use:
        - FILE
